---
title: "Project Checkpoint 3"
author: "Sofia Pozsonyiova"
date: "4/20/2020"
output: html_document
---

```{r}
library(dplyr)
political_originaldata <- read.csv("https://www.macalester.edu/~ajohns24/Data/electionDemographics16.csv") 

# political %>% select(c(abb, winrep_2016)) %>% filter(abb == "AL")

# political_adjusted <- political %>% 
#    mutate(percent_white = percent_white/100) %>% 
#   mutate(perdem_2016 = perdem_2016/100) %>% 
#   mutate(percent_black = percent_black/100) %>% 
#   mutate(perrep_2016 = perrep_2016/100) %>% 
#   mutate(percent_asian = percent_asian/100) %>%
#   mutate(percent_hispanic = percent_hispanic/100)

Political_totalPopAdju <- political_originaldata %>% 
   mutate(total_white = ((percent_white*total_population)/310810155)) %>% 
  mutate(totaldem_2016 = ((perdem_2016*total_population)/310810155)) %>% 
  mutate(total_black = ((percent_black*total_population)/310810155)) %>% 
  mutate(totalrep_2016 = ((perrep_2016*total_population)/310810155)) %>% 
  mutate(total_asian = ((percent_asian*total_population)/310810155)) %>%
  mutate(total_hispanic = ((percent_hispanic*total_population)/310810155))



demographics_selected <- Political_totalPopAdju %>% select(c(county,percent_white,per_capita_income,abb,total_2016,perdem_2016,percent_black,StateColor,median_rent,dem_2016,perrep_2016,region,percent_asian,median_age,gop_2016,winrep_2016,total_population,percent_hispanic,polyname,StateColor)) 

Final_demographics_selected <- demographics_selected %>% group_by(polyname) %>% filter(!is.na(polyname)) %>% summarize_if(is.numeric, sum, na.rm=TRUE)


# demographics_adjusted <- demographics_selected_new %>% 
#   mutate(percent_white_adjusted = ((percent_white*total_population)/310810155)) %>% 
#   mutate(percent_democrat2016_adjusted = perdem_2016*.01) %>% 
#   mutate(percent_black_adjusted = percent_black*.01) %>% 
#   mutate(percent_republican2016_adjusted = perrep_2016*.01) %>% 
#   mutate(percent_asian_adjusted = percent_asian*.01) %>%
#   mutate(percent_hispanic_adjusted = percent_hispanic*.01)

#write.csv(demographics_selected, "demographics_selected.csv")
#save(demographics_selected, file = 'demographics_selected.RData')
```


